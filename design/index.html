
<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
  </head>
  <body>
  <style>
    .description-box {
      border: solid black 3px;
      padding: 3px;
      font-size: 1.5em;
      width: 400px;
    }
  </style>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: ___design_yaml Pages: 1 -->
<svg width="487pt" height="404pt"
 viewBox="0.00 0.00 486.50 404.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 400)">
<title>___design_yaml</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-400 482.5,-400 482.5,4 -4,4"/>
<!-- user -->
<g id="user" class="node">
<title>user</title>
<polygon fill="none" stroke="#000000" points="371.5,-396 317.5,-396 317.5,-360 371.5,-360 371.5,-396"/>
<text text-anchor="middle" x="344.5" y="-374.3" font-family="Times,serif" font-size="14.00" fill="#000000">User</text>
</g>
<!-- analyzeInput -->
<g id="analyzeInput" class="node">
<title>analyzeInput</title>
<polygon fill="none" stroke="#000000" points="273.5,-324 179.5,-324 179.5,-288 273.5,-288 273.5,-324"/>
<text text-anchor="middle" x="226.5" y="-302.3" font-family="Times,serif" font-size="14.00" fill="#000000">Analyze Input</text>
</g>
<!-- user&#45;&gt;analyzeInput -->
<g id="edge1" class="edge">
<title>user&#45;&gt;analyzeInput</title>
<path fill="none" stroke="#000000" d="M317.4284,-361.4817C301.8999,-352.0067 282.1487,-339.9552 265.0246,-329.5065"/>
<polygon fill="#000000" stroke="#000000" points="266.7049,-326.4317 256.3455,-324.2108 263.0588,-332.4072 266.7049,-326.4317"/>
</g>
<!-- security -->
<g id="security" class="node">
<title>security</title>
<polygon fill="none" stroke="#000000" points="435.5,-324 291.5,-324 291.5,-288 435.5,-288 435.5,-324"/>
<text text-anchor="middle" x="363.5" y="-302.3" font-family="Times,serif" font-size="14.00" fill="#000000">Security/ Authorization</text>
</g>
<!-- analyzeInput&#45;&gt;security -->
<g id="edge2" class="edge">
<title>analyzeInput&#45;&gt;security</title>
<path fill="none" stroke="#000000" d="M273.5938,-306C276.0631,-306 278.5324,-306 281.0018,-306"/>
<polygon fill="#000000" stroke="#000000" points="281.1536,-309.5001 291.1536,-306 281.1535,-302.5001 281.1536,-309.5001"/>
</g>
<!-- analyzeQuery -->
<g id="analyzeQuery" class="node">
<title>analyzeQuery</title>
<polygon fill="none" stroke="#000000" points="226,-252 127,-252 127,-216 226,-216 226,-252"/>
<text text-anchor="middle" x="176.5" y="-230.3" font-family="Times,serif" font-size="14.00" fill="#000000">Analyze Query</text>
</g>
<!-- analyzeInput&#45;&gt;analyzeQuery -->
<g id="edge3" class="edge">
<title>analyzeInput&#45;&gt;analyzeQuery</title>
<path fill="none" stroke="#000000" d="M213.8829,-287.8314C208.1828,-279.6232 201.3337,-269.7606 195.0641,-260.7323"/>
<polygon fill="#000000" stroke="#000000" points="197.8658,-258.6306 189.287,-252.4133 192.1162,-262.6234 197.8658,-258.6306"/>
</g>
<!-- userContext -->
<g id="userContext" class="node">
<title>userContext</title>
<ellipse fill="none" stroke="#000000" cx="282.5" cy="-234" rx="38.1938" ry="18"/>
<text text-anchor="middle" x="282.5" y="-230.3" font-family="Times,serif" font-size="14.00" fill="#000000">Context</text>
</g>
<!-- analyzeInput&#45;&gt;userContext -->
<g id="edge4" class="edge">
<title>analyzeInput&#45;&gt;userContext</title>
<path fill="none" stroke="#000000" d="M240.6312,-287.8314C247.4476,-279.0673 255.7312,-268.4171 263.1253,-258.9103"/>
<polygon fill="#000000" stroke="#000000" points="265.9584,-260.9686 269.3351,-250.9263 260.4329,-256.671 265.9584,-260.9686"/>
</g>
<!-- response -->
<g id="response" class="node">
<title>response</title>
<polygon fill="none" stroke="#000000" points="358,-36 237,-36 237,0 358,0 358,-36"/>
<text text-anchor="middle" x="297.5" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">Generate Response</text>
</g>
<!-- analyzeInput&#45;&gt;response -->
<g id="edge5" class="edge">
<title>analyzeInput&#45;&gt;response</title>
<path fill="none" stroke="#000000" d="M273.6589,-288.855C292.7935,-280.1038 313.9914,-267.898 329.5,-252 379.3272,-200.9216 384.2991,-177.4931 400.5,-108 404.1327,-92.4178 408.7805,-85.6907 400.5,-72 392.4856,-58.7492 380.0278,-48.5912 366.5086,-40.8622"/>
<polygon fill="#000000" stroke="#000000" points="367.9868,-37.6851 357.5074,-36.1258 364.7272,-43.8799 367.9868,-37.6851"/>
</g>
<!-- choiceFunction -->
<g id="choiceFunction" class="node">
<title>choiceFunction</title>
<polygon fill="none" stroke="#000000" points="231,-180 144,-180 144,-144 231,-144 231,-180"/>
<text text-anchor="middle" x="187.5" y="-158.3" font-family="Times,serif" font-size="14.00" fill="#000000">Choose Next</text>
</g>
<!-- analyzeQuery&#45;&gt;choiceFunction -->
<g id="edge6" class="edge">
<title>analyzeQuery&#45;&gt;choiceFunction</title>
<path fill="none" stroke="#000000" d="M179.2758,-215.8314C180.4522,-208.131 181.8511,-198.9743 183.1586,-190.4166"/>
<polygon fill="#000000" stroke="#000000" points="186.6364,-190.8272 184.6869,-180.4133 179.7167,-189.7699 186.6364,-190.8272"/>
</g>
<!-- userContext&#45;&gt;choiceFunction -->
<g id="edge7" class="edge">
<title>userContext&#45;&gt;choiceFunction</title>
<path fill="none" stroke="#000000" d="M261.8864,-218.3771C249.4784,-208.9731 233.4206,-196.803 219.4019,-186.1783"/>
<polygon fill="#000000" stroke="#000000" points="221.5103,-183.3846 211.4265,-180.1338 217.2821,-188.9634 221.5103,-183.3846"/>
</g>
<!-- answer -->
<g id="answer" class="node">
<title>answer</title>
<polygon fill="none" stroke="#000000" points="59,-108 0,-108 0,-72 59,-72 59,-108"/>
<text text-anchor="middle" x="29.5" y="-86.3" font-family="Times,serif" font-size="14.00" fill="#000000">Answer</text>
</g>
<!-- choiceFunction&#45;&gt;answer -->
<g id="edge8" class="edge">
<title>choiceFunction&#45;&gt;answer</title>
<path fill="none" stroke="#000000" d="M147.5328,-143.9406C124.4235,-133.4793 94.8027,-120.0375 68.5,-108 68.4068,-107.9573 68.3134,-107.9146 68.2199,-107.8718"/>
<polygon fill="#000000" stroke="#000000" points="69.8499,-104.7689 59.3014,-103.7784 66.9298,-111.1308 69.8499,-104.7689"/>
</g>
<!-- delegate -->
<g id="delegate" class="node">
<title>delegate</title>
<polygon fill="none" stroke="#000000" points="197.5,-108 77.5,-108 77.5,-72 197.5,-72 197.5,-108"/>
<text text-anchor="middle" x="137.5" y="-86.3" font-family="Times,serif" font-size="14.00" fill="#000000">Delegate Response</text>
</g>
<!-- choiceFunction&#45;&gt;delegate -->
<g id="edge9" class="edge">
<title>choiceFunction&#45;&gt;delegate</title>
<path fill="none" stroke="#000000" d="M174.8829,-143.8314C169.1828,-135.6232 162.3337,-125.7606 156.0641,-116.7323"/>
<polygon fill="#000000" stroke="#000000" points="158.8658,-114.6306 150.287,-108.4133 153.1162,-118.6234 158.8658,-114.6306"/>
</g>
<!-- feedback -->
<g id="feedback" class="node">
<title>feedback</title>
<polygon fill="none" stroke="#000000" points="283.5,-108 215.5,-108 215.5,-72 283.5,-72 283.5,-108"/>
<text text-anchor="middle" x="249.5" y="-86.3" font-family="Times,serif" font-size="14.00" fill="#000000">Feedback</text>
</g>
<!-- choiceFunction&#45;&gt;feedback -->
<g id="edge11" class="edge">
<title>choiceFunction&#45;&gt;feedback</title>
<path fill="none" stroke="#000000" d="M203.1452,-143.8314C210.3591,-135.454 219.057,-125.3531 226.9605,-116.1749"/>
<polygon fill="#000000" stroke="#000000" points="229.7711,-118.2748 233.6441,-108.4133 224.4667,-113.7071 229.7711,-118.2748"/>
</g>
<!-- refine -->
<g id="refine" class="node">
<title>refine</title>
<polygon fill="none" stroke="#000000" points="391.5,-108 301.5,-108 301.5,-72 391.5,-72 391.5,-108"/>
<text text-anchor="middle" x="346.5" y="-86.3" font-family="Times,serif" font-size="14.00" fill="#000000">Refine Query</text>
</g>
<!-- choiceFunction&#45;&gt;refine -->
<g id="edge10" class="edge">
<title>choiceFunction&#45;&gt;refine</title>
<path fill="none" stroke="#000000" d="M227.6224,-143.8314C248.7932,-134.2446 274.9483,-122.4008 297.3303,-112.2655"/>
<polygon fill="#000000" stroke="#000000" points="299.0003,-115.3515 306.6661,-108.038 296.1128,-108.9748 299.0003,-115.3515"/>
</g>
<!-- answer&#45;&gt;response -->
<g id="edge12" class="edge">
<title>answer&#45;&gt;response</title>
<path fill="none" stroke="#000000" d="M59.0578,-75.6126C62.2102,-74.303 65.398,-73.0694 68.5,-72 120.4868,-54.0774 181.1242,-40.0716 226.9377,-30.8195"/>
<polygon fill="#000000" stroke="#000000" points="227.6503,-34.2464 236.7738,-28.86 226.2826,-27.3813 227.6503,-34.2464"/>
</g>
<!-- delegate&#45;&gt;response -->
<g id="edge13" class="edge">
<title>delegate&#45;&gt;response</title>
<path fill="none" stroke="#000000" d="M177.8748,-71.8314C199.1787,-62.2446 225.4983,-50.4008 248.0211,-40.2655"/>
<polygon fill="#000000" stroke="#000000" points="249.7326,-43.3334 257.4156,-36.038 246.8601,-36.95 249.7326,-43.3334"/>
</g>
<!-- feedback&#45;&gt;response -->
<g id="edge14" class="edge">
<title>feedback&#45;&gt;response</title>
<path fill="none" stroke="#000000" d="M261.6124,-71.8314C267.0281,-63.7079 273.5242,-53.9637 279.4921,-45.0118"/>
<polygon fill="#000000" stroke="#000000" points="282.5896,-46.6753 285.2245,-36.4133 276.7653,-42.7923 282.5896,-46.6753"/>
</g>
<!-- refine&#45;&gt;response -->
<g id="edge15" class="edge">
<title>refine&#45;&gt;response</title>
<path fill="none" stroke="#000000" d="M334.1352,-71.8314C328.5491,-63.6232 321.837,-53.7606 315.6928,-44.7323"/>
<polygon fill="#000000" stroke="#000000" points="318.551,-42.7112 310.0313,-36.4133 312.764,-46.6496 318.551,-42.7112"/>
</g>
<!-- response&#45;&gt;user -->
<g id="edge17" class="edge">
<title>response&#45;&gt;user</title>
<path fill="none" stroke="#000000" d="M357.2419,-36.096C377.8218,-44.5237 399.8557,-56.2511 416.5,-72 449.2784,-103.0149 463.5,-116.8741 463.5,-162 463.5,-234 463.5,-234 463.5,-234 463.5,-274.8816 468.9753,-291.2545 444.5,-324 428.9297,-344.8316 402.882,-358.5273 381.2743,-366.9128"/>
<polygon fill="#000000" stroke="#000000" points="379.9089,-363.6851 371.7125,-370.3985 382.3064,-370.2618 379.9089,-363.6851"/>
</g>
<!-- updateContext -->
<g id="updateContext" class="node">
<title>updateContext</title>
<polygon fill="none" stroke="#000000" points="478.5,-36 376.5,-36 376.5,0 478.5,0 478.5,-36"/>
<text text-anchor="middle" x="427.5" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">Update Context</text>
</g>
<!-- response&#45;&gt;updateContext -->
<g id="edge16" class="edge">
<title>response&#45;&gt;updateContext</title>
<path fill="none" stroke="#000000" d="M358.1836,-18C360.8292,-18 363.4748,-18 366.1205,-18"/>
<polygon fill="#000000" stroke="#000000" points="366.325,-21.5001 376.325,-18 366.325,-14.5001 366.325,-21.5001"/>
</g>
</g>
</svg>
  <div id="description" class="description-box"></div>
  </body>
  <script>
  design = 
{
  "node_ref": {},
  "node_attrs": {
    "shape": "box"
  },
  "nodes": {
    "user": {
      "label": "User",
      "rank": 1,
      "_to": {
        "analyzeInput": {}
      },
      "_description": "The user is the client in the rest-model\n"
    },
    "analyzeInput": {
      "label": "Analyze Input",
      "rank": 2,
      "_to": {
        "security": {},
        "analyzeQuery": {},
        "userContext": {},
        "response": {}
      },
      "_description": "Analyzing the input is determining the semantics of the request\n"
    },
    "security": {
      "label": "Security/ Authorization",
      "rank": 2,
      "_description": "Most likely using OAuth?\n"
    },
    "analyzeQuery": {
      "label": "Analyze Query",
      "rank": 3,
      "_to": {
        "choiceFunction": {}
      },
      "_description": "NLP techniques are applied to the query and the results are fed to a choice function\n"
    },
    "userContext": {
      "label": "Context",
      "rank": 3,
      "shape": "ellipse",
      "_to": {
        "choiceFunction": {}
      },
      "_description": "Context of the dialog is passed from the user to the choice function\n"
    },
    "choiceFunction": {
      "label": "Choose Next",
      "rank": 4,
      "_to": {
        "answer": {},
        "delegate": {},
        "refine": {},
        "feedback": {}
      },
      "_description": "Here the analysis of the query and the context of the dialogue is synthesized into a choice for the bot to make\n"
    },
    "answer": {
      "label": "Answer",
      "rank": 5,
      "_to": {
        "response": {}
      },
      "_description": "When the bot determines that it can provide a suitable response to the user it will directly provide an answer"
    },
    "delegate": {
      "label": "Delegate Response",
      "rank": 5,
      "_to": {
        "response": {}
      },
      "_description": "When the bot determines that an attached service can provide a suitable response to the user it will delegate the answer to that service"
    },
    "feedback": {
      "label": "Feedback",
      "rank": 5,
      "_to": {
        "response": {}
      },
      "_description": "Depending on the bot's model and state of the dialogue, it may seek feedback from the user to improve itself"
    },
    "refine": {
      "label": "Refine Query",
      "rank": 5,
      "_to": {
        "response": {}
      },
      "_description": "When the bot determines that the most advantageous step is to refine the query then it will ask the user to do so"
    },
    "response": {
      "label": "Generate Response",
      "rank": 6,
      "_to": {
        "updateContext": {},
        "user": {}
      },
      "_description": "Depending on the result of the choice function, the capabilities of the user and context of the dialogue the bot will generate an appropriate response"
    },
    "updateContext": {
      "label": "Update Context",
      "rank": 6,
      "_description": "Generating the response has the side effect of updating relevant context"
    }
  }
}
  let nodes = design['nodes'];
  let descr = document.getElementById('description');
  for (let key in nodes) {
    let node = document.getElementById(key);
    node.onclick = () => {
      //console.log('key:',key);
      descr.innerHTML = nodes[key]['_description']
    }
  }
  </script>
</html>
